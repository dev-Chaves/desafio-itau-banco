# Desafio Ita√∫ Unibanco - Backend

## √çndice

- [Introdu√ß√£o](#introdu√ß√£o)
- [Tecnologias Utilizadas](#tecnologias-utilizadas)
- [Instala√ß√£o e Configura√ß√£o](#instala√ß√£o-e-configura√ß√£o)
- [Endpoints da API](#endpoints-da-api)
    - [Receber Transa√ß√µes: POST /transacao](#receber-transa√ß√µes-post-transacao)
    - [Limpar Transa√ß√µes: DELETE /transacao](#limpar-transa√ß√µes-delete-transacao)
    - [Calcular Estat√≠sticas: GET /estatistica](#calcular-estat√≠sticas-get-estatistica)
- [Regras de Neg√≥cio](#regras-de-neg√≥cio)
- [Testes](#testes)
- [Considera√ß√µes Finais](#considera√ß√µes-finais)

## Introdu√ß√£o

Este projeto √© parte do **Desafio de Programa√ß√£o** proposto pelo Ita√∫ Unibanco. O objetivo √© desenvolver uma API REST em Java ou Kotlin utilizando Spring Boot, que receba transa√ß√µes financeiras e forne√ßa estat√≠sticas baseadas nessas transa√ß√µes.

## Tecnologias Utilizadas

- Java 21+
- Spring Boot 3.4.2
- Maven
- JUnit 5 para testes

## Instala√ß√£o e Configura√ß√£o

1. **Clonar o reposit√≥rio:**

   ```bash
   git clone https://github.com/seu-usuario/desafio-itau-backend.git
   cd desafio-itau-backend

## Endpoints da API

**Receber Transa√ß√µes: POST /transacao
Recebe uma transa√ß√£o com valor e dataHora.**

Exemplo de Requisi√ß√£o:
    
    {
    "valor": 123.45,
    "dataHora": "2020-08-07T12:34:56.789-03:00"
    }

Respostas Poss√≠veis:

- 201 Created: Transa√ß√£o aceita.
- 422 Unprocessable Entity: Transa√ß√£o inv√°lida.
- 400 Bad Request: Requisi√ß√£o malformada.

**Receber Transa√ß√µes: GET /transacoes/listar**

**Lista transa√ß√µes**

Exemplo de Requisi√ß√£o:

    {
    "valor": 123.45,
    "dataHora": "2020-08-07T12:34:56.789-03:00"
    }

Respostas Poss√≠veis:

- 200 OK.
- 400 Bad Request: Requisi√ß√£o malformada.

**Ver est√°tisticas: get /estatisticas
Mostrar est√°tisticas como:.**

- count	Quantidade de transa√ß√µes nos √∫ltimos 60 segundos	
- sum	Soma total do valor transacionado nos √∫ltimos 60 segundos	
- avg	M√©dia do valor transacionado nos √∫ltimos 60 segundos	
- min	Menor valor transacionado nos √∫ltimos 60 segundos	
- max	Maior valor transacionado nos √∫ltimos 60 segundos	

Exemplo de Requisi√ß√£o:

    {
    "count": 10,
    "sum": 1234.56,
    "avg": 123.456,
    "min": 12.34,
    "max": 123.56
    }

## Melhorias Futuras (Checklist)
‚úÖ Testes Automatizados

- Adicionar testes unit√°rios e funcionais robustos, incluindo cen√°rios de erro (ex: transa√ß√µes inv√°lidas, timeout).

- Cobrir 100% dos caminhos cr√≠ticos com JUnit 5 + Mockito.

‚úÖ **Containeriza√ß√£o**

- Criar Dockerfile para empacotar a aplica√ß√£o.

- Configurar docker-compose.yml para ambiente de desenvolvimento.

‚úÖ **Logs Estruturados**

- Implementar logs em formato JSON para an√°lise em ferramentas como ELK Stack.

- N√≠veis configur√°veis por ambiente (ex: DEBUG em dev, WARN em prod).

‚úÖ Observabilidade

- Adicionar endpoint /health com Spring Boot Actuator para healthcheck.

- Incluir m√©tricas de performance via /metrics (tempo de resposta, uso de mem√≥ria).

‚úÖ **Performance**

- Medir tempo de c√°lculo das estat√≠sticas usando StopWatch ou Micrometer.

- Otimizar filtragem de transa√ß√µes com estruturas de dados eficientes (ex: TreeMap ordenado por timestamp).

‚úÖ **Tratamento de Erros**

- Customizar respostas de erro com @ControllerAdvice e mensagens amig√°veis (ex: { "erro": "Transa√ß√£o futura", "detalhes": "dataHora inv√°lida" }).

‚úÖ **Documenta√ß√£o da API**

- Integrar Swagger/OpenAPI com exemplos de requisi√ß√µes e respostas.

- Disponibilizar documenta√ß√£o interativa em /swagger-ui.html.

‚úÖ **Documenta√ß√£o do Sistema**

- Detalhar passos para build (mvn clean install) e execu√ß√£o (java -jar ou docker-compose up).

**Incluir pr√©-requisitos (Java 21+, Docker, Maven).**

üåü **Progresso:**

Testes Automatizados

Containeriza√ß√£o

Logs Estruturados

Observabilidade

Performance

Tratamento de Erros

Documenta√ß√£o da API

Documenta√ß√£o do Sistema

Configura√ß√µes Flex√≠veis

Atualizado em: 07/08/2024

Contribui√ß√µes s√£o bem-vindas!
üîó Clone o reposit√≥rio e abra um PR para colaborar. üòä


